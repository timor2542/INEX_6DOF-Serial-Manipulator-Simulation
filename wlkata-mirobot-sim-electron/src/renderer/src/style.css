/* ===== Fonts ===== */
@font-face {
  font-family: 'Noto Sans Thai Looped';
  src: url('/src/assets/fonts/NotoSansThaiLooped.ttf') format('truetype');
  font-weight: 400;
  font-style: normal;
  font-display: swap;
}

@font-face {
  font-family: 'Fira Code';
  src: url('/src/assets/fonts/FiraCode.ttf') format('truetype');
  font-weight: 400;
  font-style: normal;
  font-display: swap;
}

/* ===== Root scaling (vw only) ===== */
html {
  font-size: clamp(12px, 0.90vw, 18px) !important;
}


body {
  font-size: 1rem;
}

h1 {
  margin: 0px;
  padding: 0px;
  /* font-family: BebasNeue; */
  /* color: #777878; */
  font-size: 2vw;
}

p {
  margin: 0px;
  padding: 0px;
  /* font-family: BebasNeue; */
  /* color: #777878; */
  font-size: 0.5vw;
}

:root {
  --bg: #1e1e1e;
  --fg: #eee;
  --panel: #242424;
  --panel-alt: #2a2a2a;
  --accent: #409eff;
  --ok: #67c23a;
  --bad: #f56c6c;

  /* Element Plus + spacing scale */
  --el-font-size-base: clamp(11px, 0.90vw, 18px);
  --el-font-size-small: clamp(10px, 0.80vw, 16px);
  --el-component-size: clamp(26px, 2.1vw, 40px);

  --radius: clamp(6px, 0.6vw, 12px);
  --gap: clamp(6px, 0.6vw, 14px);
}

.light {
  --bg: #f6f6f7;
  --fg: #202124;
  --panel: #fff;
  --panel-alt: #f0f0f3;
}

/* ===== Global & Layout ===== */
* {
  box-sizing: border-box;
}

html,
body,
#app {
  margin: 0;
  padding: 0;
  width: 100vw;
  height: 100vh;
  overflow: hidden;
  background: var(--bg);
  color: var(--fg);
  font-family: 'Noto Sans Thai Looped', system-ui, -apple-system, Segoe UI, Roboto, sans-serif;
  line-height: 1.35;
}

/* Grid หลัก (toolbar | main | console | statusbar) — ย่อ/ขยายได้จริง */
.app-grid {
  display: grid;
  grid-template-rows:
    clamp(44px, 4.6vw, 64px) 1fr clamp(140px, 12.0vw, 220px) clamp(22px, 1.6vw, 28px);
  grid-template-columns: 1fr;
  gap: var(--gap);
  height: 100vh;
  padding: var(--gap);
}

/* Panels */
.panel {
  background: var(--panel);
  border-radius: var(--radius);
  padding: clamp(6px, 0.8vw, 12px);
}

/* Toolbar panel เตี้ยลงเล็กน้อย */
.panel:first-child {
  padding: clamp(4px, 0.5vw, 10px);
}

/* Viewer panel แนบขอบสนิท */
.viewer-panel {
  padding: 0;
  overflow: hidden;
}

.viewer-panel>.flex {
  height: 100%;
}

/* Jog panel ภายในนิ่งในทุกความกว้าง */
.jog-wrap {
  padding: clamp(8px, 1vw, 14px);
}

/* Flex helpers */
.flex {
  display: flex;
  gap: var(--gap);
}

.flex-col {
  display: flex;
  flex-direction: column;
  gap: var(--gap);
}

.flex-1 {
  flex: 1;
  min-width: 0;
}

/* สำคัญเพื่อให้บีบได้ */
.minw-0 {
  min-width: 0;
}

/* ครอบคลุม flex children ทั่วไปให้ย่อได้ */
.panel,
.app-grid>* {
  min-width: 0;
}

/* Toolbar wrap: ปกติไม่พับ, พับเมื่อจอแคบ */
.toolbar-wrap {
  display: flex;
  align-items: center;
  gap: var(--gap);
  flex-wrap: nowrap;
}

@media (max-width: 1100px) {
  .toolbar-wrap {
    flex-wrap: wrap;
  }
}

/* ขนาด control หลักใน Toolbar (แทน px คงที่) */
.ctrl-w-lg {
  width: clamp(160px, 18vw, 220px);
}

/* Port select */
.ctrl-w-md {
  width: clamp(120px, 12vw, 160px);
}

/* Baud select */

/* Console */
.console {
  font-family: 'Fira Code', ui-monospace, SFMono-Regular, Menlo, Consolas, monospace;
  background: #111;
  color: #0f0;
  border-radius: var(--radius);
  padding: clamp(6px, 0.8vw, 12px);
  line-height: 1.3;
  font-size: clamp(11px, 0.80vw, 17px) !important;
}

/* Element Plus density */
.el-button,
.el-input__wrapper,
.el-select__wrapper,
.el-tag {
  border-radius: var(--radius);
  font-size: var(--el-font-size-base) !important;
}

.el-button {
  padding: clamp(4px, 0.5vw, 10px) clamp(8px, 0.9vw, 14px);
}

.el-input__wrapper,
.el-select__wrapper {
  padding: clamp(2px, 0.35vw, 8px) clamp(6px, 0.6vw, 12px);
}

.el-divider.el-divider--vertical {
  margin: 0 clamp(6px, 0.6vw, 12px);
  height: 1.6em;
  border-color: rgba(127, 127, 127, 0);
}

.el-divider.el-divider--horizontal {
  margin: 0 clamp(6px, 0.6vw, 12px);
  height: 1.6em;
  border-color: rgba(127, 127, 127, 0);
}

/* Serial controls เท่านั้นที่ยืดเต็มแถวได้ */
.serial-controls .el-input,
.serial-controls .el-select {
  width: 100%;
  min-width: 0;
}

/* Slider ยืดเต็มใน Jog */
.el-slider {
  width: 100%;
  min-width: 0;
}

/* ===== Segmented (Joint/Linear/Angular) fill width ===== */
.el-segmented {
  width: 100%;
}

/* ===== Slider tuning (responsive by vw) ===== */
:root {
  --slider-h: clamp(4px, 0.35vw, 8px);
  --slider-knob: clamp(12px, 1.0vw, 16px);
}

.el-slider__runway,
.el-slider__bar {
  height: var(--slider-h) !important;
}

.el-slider__button {
  width: var(--slider-knob) !important;
  height: var(--slider-knob) !important;
  border-width: 2px;
}

/* ===== Serial row layout: right-aligned actions but still wrap on small widths ===== */
.serial-controls {
  align-items: center;
  gap: var(--gap);
  flex-wrap: wrap;
}

.serial-controls .grow {
  flex: 1 1 260px;
  min-width: 0;
}

/* input ยืด/ย่อได้ */
.serial-actions {
  display: flex;
  align-items: right;
  gap: var(--gap);
}

/* ปุ่มเล็กใน viewer (Fit/Reset/+/−) ลด padding ลงเล็กน้อย */
.viewer-overlay .el-button {

  font-size: clamp(11px, 0.85vw, 36px) !important;
  padding: clamp(2px, 0.25vw, 6px) clamp(6px, 0.5vw, 10px);
}

/* ===== Jog labels/values: สีอ่านง่ายขึ้นทั้ง Dark/Light ===== */
.jog-label,
.jog-value {
  color: rgba(255, 255, 255, 0.92);
}

.light .jog-label,
.light .jog-value {
  color: rgba(0, 0, 0, 0.8);
}

/* ===== Slider track/handle ปรับให้อ่านง่ายขึ้นในโหมดมืด ===== */
.el-slider__bar {
  background-color: #3b82f6 !important;
}

.el-slider__runway {
  background-color: rgba(255, 255, 255, 0.22) !important;
}

.el-slider__button {
  border: 2px solid rgba(255, 255, 255, 0.9);
  background: #1f2937;
}

.light .el-slider__button {
  border-color: rgba(0, 0, 0, 0.65);
  background: #fff;
}

/* ===== Tooltip ตัวเลข (กรณีเปิด tooltip บน slider) ===== */
.el-tooltip__popper.is-dark {
  background: #111;
  color: #fff;
}

.light .el-tooltip__popper.is-dark {
  background: #fff;
  color: #111;
  border: 1px solid #ddd;
}

/* ===== InputNumber ภายในสไลเดอร์/บรรทัดควบคุม ให้ contrast ชัด ===== */
.el-input__inner,
.el-input__inner::placeholder {
  color: rgba(255, 255, 255, 0.92);
}

.light .el-input__inner,
.light .el-input__inner::placeholder {
  color: rgba(0, 0, 0, 0.82);
}

/* Status Bar อ่านง่ายขึ้น */
.statusbar {
  font-size: 0.8vw;
}

/* Smooth theme switch */
body,
.panel,
.console {
  transition: background-color 160ms ease, color 160ms ease;
}

/* Light theme: slider track/active bar ให้อ่านง่าย */
.light .el-slider__runway {
  background-color: rgba(0, 0, 0, 0.18) !important;
}

.light .el-slider__bar {
  background-color: #409eff !important;
}

/* Light theme: console สีตัวหนังสือเขียวให้อ่านง่ายบนพื้นเข้ม */
.light .console {
  background: #f3f5f9;
  color: #0a7a0a;
}

/* ป้องกัน Element Plus ถูก override เกินไป (ใช้เฉพาะที่จำเป็น) */
.el-input__inner,
.el-input__inner::placeholder {
  color: inherit;
}

/* ให้ตามธีม EP */
.light .el-input__inner::placeholder {
  color: rgba(0, 0, 0, 0.45);
}

.dark .el-input__inner::placeholder {
  color: rgba(255, 255, 255, 0.55);
}

/* ให้ segmented ดูเหมือนแท็บหัวใหญ่ */
.el-segmented {
  width: 100%;
}

.el-segmented .el-segmented__item {
  padding: 6px 14px;
}

/* ค่าทางขวาในแถว axis อ่านง่าย */
.axis-value {
  font-variant-numeric: tabular-nums;
}

/* ให้ input disabled ดูคล้ายช่องค่าทางขวาอย่างใน WLKATA */
.el-input.is-disabled .el-input__wrapper {
  background: rgba(127, 127, 127, .15);
  box-shadow: 0 0 0 1px rgba(127, 127, 127, .25) inset;
}

.credits a {
  text-decoration: none;
}

.credits a:hover {
  text-decoration: underline;
}

/* === Color Picker HEX input: Dark theme readable === */
.dark .el-color-picker__panel,
.dark .el-popper.is-light {
  /* พาเนลป็อปโอเวอร์ */
  --el-bg-color-overlay: #0f172a;
  /* slate-900 */
  --el-text-color-regular: #e5e7eb;
  /* text */
  --el-border-color: #334155;
}

.dark .el-color-dropdown__value .el-input__wrapper {
  background-color: #111827 !important;
  /* bg input */
  box-shadow: 0 0 0 1px #374151 inset !important;
}

.dark .el-color-dropdown__value input.el-input__inner {
  color: #e5e7eb !important;
  caret-color: #e5e7eb;
}

.dark .el-color-dropdown__value input.el-input__inner::placeholder {
  color: #94a3b8;
  /* placeholder */
}

/* แถบ spectrum กับ slider ยังเห็นกรอบ */
.dark .el-color-predefine,
.dark .el-color-dropdown__main-wrapper {
  border-color: #334155 !important;
}

/* === Color Picker HEX input: Dark theme readable === */
.dark .el-color-picker__panel,
.dark .el-popper.is-light {
  /* พาเนลป็อปโอเวอร์ */
  --el-bg-color-overlay: #0f172a;
  /* slate-900 */
  --el-text-color-regular: #e5e7eb;
  /* text */
  --el-border-color: #334155;
}

.dark .el-color-dropdown__value .el-input__wrapper {
  background-color: #111827 !important;
  /* bg input */
  box-shadow: 0 0 0 1px #374151 inset !important;
}

.dark .el-color-dropdown__value input.el-input__inner {
  color: #e5e7eb !important;
  caret-color: #e5e7eb;
}

.dark .el-color-dropdown__value input.el-input__inner::placeholder {
  color: #94a3b8;
  /* placeholder */
}

/* แถบ spectrum กับ slider ยังเห็นกรอบ */
.dark .el-color-predefine,
.dark .el-color-dropdown__main-wrapper {
  border-color: #334155 !important;
}

:root {
  /* Light */
  --chip-bg: #eef2ff;
  /* indigo-50 */
  --chip-fg: #1e293b;
  /* slate-800 */
  --chip-br: #c7d2fe;
  /* indigo-200 */
}

.dark {
  /* Dark */
  --chip-bg: rgba(148, 163, 184, .15);
  /* slate-400/15 */
  --chip-fg: #e5e7eb;
  /* slate-200 */
  --chip-br: #475569;
  /* slate-600 */
}

.limit-chip {
  display: inline-block;
  padding: .15rem .4rem;
  font-weight: 600;
  font-size: .82rem;
  letter-spacing: .2px;
  border-radius: .4rem;
  background: var(--chip-bg);
  color: var(--chip-fg);
  border: 1px solid var(--chip-br);
  user-select: none;
  /* ป้องกันคลุมข้อความตามที่คุณขอไว้ก่อนหน้า */
  white-space: nowrap;
}
html.dark .el-color-picker__panel .el-input__wrapper{
  background:#111827 !important;
  box-shadow: 0 0 0 1px #374151 inset !important;
}
html.dark .el-color-picker__panel input.el-input__inner{
  color:#e5e7eb !important;
  caret-color:#e5e7eb !important;
}
html.dark .el-color-picker__panel input.el-input__inner::placeholder{
  color:#94a3b8 !important;
}
/* จอเล็ก: ทำให้คอมโพเนนต์กะทัดรัดขึ้นอีกนิด */
@media (max-width: 1280px) {
  :root {
    --el-component-size: clamp(24px, 1.8vw, 34px);
  }

  .el-button {
    padding: clamp(3px, 0.4vw, 8px) clamp(6px, 0.7vw, 12px);
  }
}